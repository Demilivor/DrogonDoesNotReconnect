
### Data races
Thread sanitizer finds these races:
```
==================
WARNING: ThreadSanitizer: data race (pid=35593)
  Write of size 8 at 0x720800022000 by thread T11:
    #0 operator delete(void*) <null> (drogon_postgres_example+0x1071e9) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #1 __gnu_cxx::new_allocator<char>::deallocate(char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:145:2 (drogon_postgres_example+0x1a035c) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #2 std::allocator<char>::deallocate(char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:199:25 (drogon_postgres_example+0x1a035c)
    #3 std::allocator_traits<std::allocator<char>>::deallocate(std::allocator<char>&, char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:496:13 (drogon_postgres_example+0x1a035c)
    #4 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>::_M_destroy(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/basic_string.h:245:9 (drogon_postgres_example+0x1a035c)
    #5 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>::_M_dispose() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/basic_string.h:240:4 (drogon_postgres_example+0x1a035c)
    #6 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>::~basic_string() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/basic_string.h:672:9 (drogon_postgres_example+0x1a035c)
    #7 void std::destroy_at<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:88:15 (drogon_postgres_example+0x1a035c)
    #8 void std::allocator_traits<std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>>>::destroy<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>>(std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>>&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:537:4 (drogon_postgres_example+0x1a035c)
    #9 std::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:528:2 (drogon_postgres_example+0x1a035c)
    #10 std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:168:6 (drogon_postgres_example+0x254eab) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #11 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:705:11 (drogon_postgres_example+0x254eab)
    #12 std::__shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1154:31 (drogon_postgres_example+0x254eab)
    #13 drogon::orm::internal::SqlBinder::~SqlBinder() /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/SqlBinder.cc:135:1 (drogon_postgres_example+0x254eab)
    #14 drogon::orm::Result drogon::orm::DbClient::execSqlSync<>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/inc/drogon/orm/DbClient.h:203:9 (drogon_postgres_example+0x10b437) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #15 runQueries(std::shared_ptr<drogon::orm::DbClient>) /home/admin/db_race_test/main.cpp:146:35 (drogon_postgres_example+0x108a41) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #16 void std::__invoke_impl<void, void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>(std::__invoke_other, void (*&&)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x114338) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #17 std::__invoke_result<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>::type std::__invoke<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>(void (*&&)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x114338)
    #18 void std::thread::_Invoker<std::tuple<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>>::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x114338)
    #19 std::thread::_Invoker<std::tuple<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x114338)
    #20 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x114338)
    #21 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Previous read of size 8 at 0x720800022000 by thread T7:
    #0 memcpy <null> (drogon_postgres_example+0x8434b) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #1 <null> <null> (libpq.so.5+0x1bdaf) (BuildId: 297a3a4edc59450a999cff3743675f86f4032cb4)
    #2 drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/postgresql_impl/PgBatchConnection.cc:256:57 (drogon_postgres_example+0x2a102c) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #3 void std::__invoke_impl<void, drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0&>(std::__invoke_other, drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x2a102c)
    #4 std::enable_if<is_invocable_r_v<void, drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0&>, void>::type std::__invoke_r<void, drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0&>(drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2 (drogon_postgres_example+0x2a102c)
    #5 std::_Function_handler<void (), drogon::orm::PgConnection::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::$_0>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x2a102c)
    #6 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x2d15bb) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #7 trantor::EventLoop::doRunInLoopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:354:17 (drogon_postgres_example+0x2d15bb)
    #8 trantor::EventLoop::loop() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:239:13 (drogon_postgres_example+0x2d10d8) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #9 trantor::EventLoopThread::loopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:65:11 (drogon_postgres_example+0x2d3a42) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #10 trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:25:26 (drogon_postgres_example+0x2d3d83) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #11 void std::__invoke_impl<void, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(std::__invoke_other, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x2d3d83)
    #12 std::__invoke_result<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>::type std::__invoke<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x2d3d83)
    #13 void std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::_M_invoke<0ul>(std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x2d3d83)
    #14 std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x2d3d83)
    #15 std::thread::_State_impl<std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x2d3d83)
    #16 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Thread T11 (tid=35623, running) created by main thread at:
    #0 pthread_create <null> (drogon_postgres_example+0x8875b) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State>>, void (*)()) <null> (libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 std::thread& std::vector<std::thread, std::allocator<std::thread>>::emplace_back<void (&)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>&>(void (&)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/vector.tcc:121:4 (drogon_postgres_example+0x10b76b) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #3 main /home/admin/db_race_test/main.cpp:219:17 (drogon_postgres_example+0x10942d) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)

  Thread T7 'DbLoop' (tid=35617, running) created by main thread at:
    #0 pthread_create <null> (drogon_postgres_example+0x8875b) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State>>, void (*)()) <null> (libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 void __gnu_cxx::new_allocator<trantor::EventLoopThread>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:162:23 (drogon_postgres_example+0x2d5232) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #3 void std::allocator_traits<std::allocator<trantor::EventLoopThread>>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>&, trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:516:8 (drogon_postgres_example+0x2d5232)
    #4 std::_Sp_counted_ptr_inplace<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x2d5232)
    #5 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*&, std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x2d5232)
    #6 std::__shared_ptr<trantor::EventLoopThread, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x2d5232)
    #7 std::shared_ptr<trantor::EventLoopThread>::shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x2d5232)
    #8 std::shared_ptr<trantor::EventLoopThread> std::allocate_shared<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x2d5232)
    #9 std::shared_ptr<trantor::EventLoopThread> std::make_shared<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x2d5232)
    #10 trantor::EventLoopThreadPool::EventLoopThreadPool(unsigned long, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThreadPool.cc:23:40 (drogon_postgres_example+0x2d5232)
    #11 drogon::orm::DbClientImpl::DbClientImpl(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, drogon::orm::ClientType, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:62:7 (drogon_postgres_example+0x23afb3) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #12 decltype(::new((void*)(0)) drogon::orm::DbClientImpl(std::declval<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(), std::declval<unsigned long&>(), std::declval<drogon::orm::ClientType>(), std::declval<bool&>())) std::construct_at<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:97:39 (drogon_postgres_example+0x23abea) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #13 void std::allocator_traits<std::allocator<drogon::orm::DbClientImpl>>::construct<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>&, drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:518:4 (drogon_postgres_example+0x23abea)
    #14 std::_Sp_counted_ptr_inplace<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x23abea)
    #15 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*&, std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x23abea)
    #16 std::__shared_ptr<drogon::orm::DbClientImpl, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x23abea)
    #17 std::shared_ptr<drogon::orm::DbClientImpl>::shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x23a6a1) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    #18 std::shared_ptr<drogon::orm::DbClientImpl> std::allocate_shared<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x23a6a1)
    #19 std::shared_ptr<drogon::orm::DbClientImpl> std::make_shared<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x23a6a1)
    #20 drogon::orm::DbClient::newPgClient(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClient.cc:38:19 (drogon_postgres_example+0x23a6a1)
    #21 main /home/admin/db_race_test/main.cpp:203:19 (drogon_postgres_example+0x109350) (BuildId: 445cb14e5eace4909d6932a60a6af067fddb3e0b)
    ```

    ```
    ARNING: ThreadSanitizer: data race (pid=58372)
  Read of size 8 at 0x72b000000540 by thread T33:
    #0 epoll_ctl <null> (drogon_postgres_example+0x8f276) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #1 trantor::EpollPoller::update(int, trantor::Channel*) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/inner/poller/EpollPoller.cc:210:9 (drogon_postgres_example+0x305e21) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #2 trantor::EpollPoller::updateChannel(trantor::Channel*) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/inner/poller/EpollPoller.cc:174:13 (drogon_postgres_example+0x305e21)
    #3 trantor::EventLoop::updateChannel(trantor::Channel*) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:158:14 (drogon_postgres_example+0x2cffbb) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #4 trantor::Channel::update() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:50:12 (drogon_postgres_example+0x2e4aa4) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #5 trantor::Channel::disableAll() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.h:168:9 (drogon_postgres_example+0x29a649) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #6 drogon::orm::PgConnection::handleClosed() /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/postgresql_impl/PgBatchConnection.cc:159:14 (drogon_postgres_example+0x29a649)
    #7 drogon::orm::PgConnection::pgPoll() /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/postgresql_impl/PgBatchConnection.cc:195:17 (drogon_postgres_example+0x29b87c) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #8 drogon::orm::PgConnection::init()::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/postgresql_impl/PgBatchConnection.cc:118:13 (drogon_postgres_example+0x29f88a) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #9 void std::__invoke_impl<void, drogon::orm::PgConnection::init()::$_0&>(std::__invoke_other, drogon::orm::PgConnection::init()::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x29f88a)
    #10 std::enable_if<is_invocable_r_v<void, drogon::orm::PgConnection::init()::$_0&>, void>::type std::__invoke_r<void, drogon::orm::PgConnection::init()::$_0&>(drogon::orm::PgConnection::init()::$_0&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2 (drogon_postgres_example+0x29f88a)
    #11 std::_Function_handler<void (), drogon::orm::PgConnection::init()::$_0>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x29f88a)
    #12 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x2e4e70) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #13 trantor::Channel::handleEventSafely() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:98:13 (drogon_postgres_example+0x2e4e70)
    #14 trantor::Channel::handleEvent() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:68:9 (drogon_postgres_example+0x2e4e70)
    #15 trantor::EventLoop::loop() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:234:40 (drogon_postgres_example+0x2d0260) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #16 trantor::EventLoopThread::loopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:65:11 (drogon_postgres_example+0x2d2b12) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #17 trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:25:26 (drogon_postgres_example+0x2d2e53) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #18 void std::__invoke_impl<void, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(std::__invoke_other, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x2d2e53)
    #19 std::__invoke_result<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>::type std::__invoke<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x2d2e53)
    #20 void std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::_M_invoke<0ul>(std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x2d2e53)
    #21 std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x2d2e53)
    #22 std::thread::_State_impl<std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x2d2e53)
    #23 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Previous write of size 8 at 0x72b000000540 by thread T9:
    #0 socket <null> (drogon_postgres_example+0x8da2e) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #1 PQconnectPoll <null> (libpq.so.5+0x12f9d) (BuildId: 297a3a4edc59450a999cff3743675f86f4032cb4)
    #2 decltype(::new((void*)(0)) drogon::orm::PgConnection(std::declval<trantor::EventLoop*&>(), std::declval<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&>(), std::declval<bool&>())) std::construct_at<drogon::orm::PgConnection, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(drogon::orm::PgConnection*, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:97:39 (drogon_postgres_example+0x24caeb) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #3 void std::allocator_traits<std::allocator<drogon::orm::PgConnection>>::construct<drogon::orm::PgConnection, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::allocator<drogon::orm::PgConnection>&, drogon::orm::PgConnection*, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:518:4 (drogon_postgres_example+0x24caeb)
    #4 std::_Sp_counted_ptr_inplace<drogon::orm::PgConnection, std::allocator<drogon::orm::PgConnection>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x24caeb)
    #5 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<drogon::orm::PgConnection, std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(drogon::orm::PgConnection*&, std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::PgConnection>>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x24caeb)
    #6 std::__shared_ptr<drogon::orm::PgConnection, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::PgConnection>>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x24caeb)
    #7 std::shared_ptr<drogon::orm::PgConnection>::shared_ptr<std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::PgConnection>>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x23a9e2) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #8 std::shared_ptr<drogon::orm::PgConnection> std::allocate_shared<drogon::orm::PgConnection, std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::allocator<drogon::orm::PgConnection> const&, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x23a9e2)
    #9 std::shared_ptr<drogon::orm::PgConnection> std::make_shared<drogon::orm::PgConnection, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x23a9e2)
    #10 drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:385:13 (drogon_postgres_example+0x23a9e2)
    #11 drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:439:22 (drogon_postgres_example+0x246b4b) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #12 void std::__invoke_impl<void, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&>(std::__invoke_other, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x246b4b)
    #13 std::enable_if<is_invocable_r_v<void, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&>, void>::type std::__invoke_r<void, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&>(drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2 (drogon_postgres_example+0x246b4b)
    #14 std::_Function_handler<void (), drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x246b4b)
    #15 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x31ab00) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #16 trantor::Timer::run() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/inner/Timer.cc:45:5 (drogon_postgres_example+0x31ab00)
    #17 trantor::TimerQueue::handleRead() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/inner/TimerQueue.cc:94:23 (drogon_postgres_example+0x2ffd37) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #18 void std::__invoke_impl<void, void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&>(std::__invoke_memfun_deref, void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:74:14 (drogon_postgres_example+0x303311) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #19 std::__invoke_result<void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&>::type std::__invoke<void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&>(void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x303311)
    #20 void std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>::__call<void, 0ul>(std::tuple<>&&, std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/functional:420:11 (drogon_postgres_example+0x303311)
    #21 void std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>::operator()<void>() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/functional:503:17 (drogon_postgres_example+0x303311)
    #22 void std::__invoke_impl<void, std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&>(std::__invoke_other, std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x303311)
    #23 std::enable_if<__and_<std::is_void<void>, std::__is_invocable<std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&>>::value, void>::type std::__invoke_r<void, std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&>(std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:154:7 (drogon_postgres_example+0x303311)
    #24 std::_Function_handler<void (), std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x303311)
    #25 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x2e4e70) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #26 trantor::Channel::handleEventSafely() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:98:13 (drogon_postgres_example+0x2e4e70)
    #27 trantor::Channel::handleEvent() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:68:9 (drogon_postgres_example+0x2e4e70)
    #28 trantor::EventLoop::loop() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:234:40 (drogon_postgres_example+0x2d0260) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #29 trantor::EventLoopThread::loopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:65:11 (drogon_postgres_example+0x2d2b12) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #30 trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:25:26 (drogon_postgres_example+0x2d2e53) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #31 void std::__invoke_impl<void, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(std::__invoke_other, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x2d2e53)
    #32 std::__invoke_result<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>::type std::__invoke<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x2d2e53)
    #33 void std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::_M_invoke<0ul>(std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x2d2e53)
    #34 std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x2d2e53)
    #35 std::thread::_State_impl<std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x2d2e53)
    #36 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Location is file descriptor 42 created by thread T9 at:
    #0 socket <null> (drogon_postgres_example+0x8da2e) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #1 PQconnectPoll <null> (libpq.so.5+0x12f9d) (BuildId: 297a3a4edc59450a999cff3743675f86f4032cb4)
    #2 decltype(::new((void*)(0)) drogon::orm::PgConnection(std::declval<trantor::EventLoop*&>(), std::declval<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&>(), std::declval<bool&>())) std::construct_at<drogon::orm::PgConnection, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(drogon::orm::PgConnection*, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:97:39 (drogon_postgres_example+0x24caeb) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #3 void std::allocator_traits<std::allocator<drogon::orm::PgConnection>>::construct<drogon::orm::PgConnection, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::allocator<drogon::orm::PgConnection>&, drogon::orm::PgConnection*, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:518:4 (drogon_postgres_example+0x24caeb)
    #4 std::_Sp_counted_ptr_inplace<drogon::orm::PgConnection, std::allocator<drogon::orm::PgConnection>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x24caeb)
    #5 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<drogon::orm::PgConnection, std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(drogon::orm::PgConnection*&, std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::PgConnection>>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x24caeb)
    #6 std::__shared_ptr<drogon::orm::PgConnection, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::PgConnection>>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x24caeb)
    #7 std::shared_ptr<drogon::orm::PgConnection>::shared_ptr<std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::PgConnection>>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x23a9e2) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #8 std::shared_ptr<drogon::orm::PgConnection> std::allocate_shared<drogon::orm::PgConnection, std::allocator<drogon::orm::PgConnection>, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(std::allocator<drogon::orm::PgConnection> const&, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x23a9e2)
    #9 std::shared_ptr<drogon::orm::PgConnection> std::make_shared<drogon::orm::PgConnection, trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&>(trantor::EventLoop*&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>>&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x23a9e2)
    #10 drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:385:13 (drogon_postgres_example+0x23a9e2)
    #11 drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:439:22 (drogon_postgres_example+0x246b4b) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #12 void std::__invoke_impl<void, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&>(std::__invoke_other, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x246b4b)
    #13 std::enable_if<is_invocable_r_v<void, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&>, void>::type std::__invoke_r<void, drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&>(drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2 (drogon_postgres_example+0x246b4b)
    #14 std::_Function_handler<void (), drogon::orm::DbClientImpl::newConnection(trantor::EventLoop*)::$_0::operator()(std::shared_ptr<drogon::orm::DbConnection> const&) const::'lambda'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x246b4b)
    #15 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x31ab00) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #16 trantor::Timer::run() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/inner/Timer.cc:45:5 (drogon_postgres_example+0x31ab00)
    #17 trantor::TimerQueue::handleRead() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/inner/TimerQueue.cc:94:23 (drogon_postgres_example+0x2ffd37) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #18 void std::__invoke_impl<void, void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&>(std::__invoke_memfun_deref, void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:74:14 (drogon_postgres_example+0x303311) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #19 std::__invoke_result<void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&>::type std::__invoke<void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&>(void (trantor::TimerQueue::*&)(), trantor::TimerQueue*&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x303311)
    #20 void std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>::__call<void, 0ul>(std::tuple<>&&, std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/functional:420:11 (drogon_postgres_example+0x303311)
    #21 void std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>::operator()<void>() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/functional:503:17 (drogon_postgres_example+0x303311)
    #22 void std::__invoke_impl<void, std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&>(std::__invoke_other, std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x303311)
    #23 std::enable_if<__and_<std::is_void<void>, std::__is_invocable<std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&>>::value, void>::type std::__invoke_r<void, std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&>(std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:154:7 (drogon_postgres_example+0x303311)
    #24 std::_Function_handler<void (), std::_Bind<void (trantor::TimerQueue::* (trantor::TimerQueue*))()>>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x303311)
    #25 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x2e4e70) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #26 trantor::Channel::handleEventSafely() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:98:13 (drogon_postgres_example+0x2e4e70)
    #27 trantor::Channel::handleEvent() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/Channel.cc:68:9 (drogon_postgres_example+0x2e4e70)
    #28 trantor::EventLoop::loop() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:234:40 (drogon_postgres_example+0x2d0260) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #29 trantor::EventLoopThread::loopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:65:11 (drogon_postgres_example+0x2d2b12) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #30 trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:25:26 (drogon_postgres_example+0x2d2e53) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #31 void std::__invoke_impl<void, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(std::__invoke_other, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x2d2e53)
    #32 std::__invoke_result<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>::type std::__invoke<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x2d2e53)
    #33 void std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::_M_invoke<0ul>(std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x2d2e53)
    #34 std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x2d2e53)
    #35 std::thread::_State_impl<std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x2d2e53)
    #36 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Thread T33 'DbLoop' (tid=58454, running) created by main thread at:
    #0 pthread_create <null> (drogon_postgres_example+0x8874b) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State>>, void (*)()) <null> (libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 void __gnu_cxx::new_allocator<trantor::EventLoopThread>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:162:23 (drogon_postgres_example+0x2d4302) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #3 void std::allocator_traits<std::allocator<trantor::EventLoopThread>>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>&, trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:516:8 (drogon_postgres_example+0x2d4302)
    #4 std::_Sp_counted_ptr_inplace<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x2d4302)
    #5 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*&, std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x2d4302)
    #6 std::__shared_ptr<trantor::EventLoopThread, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x2d4302)
    #7 std::shared_ptr<trantor::EventLoopThread>::shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x2d4302)
    #8 std::shared_ptr<trantor::EventLoopThread> std::allocate_shared<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x2d4302)
    #9 std::shared_ptr<trantor::EventLoopThread> std::make_shared<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x2d4302)
    #10 trantor::EventLoopThreadPool::EventLoopThreadPool(unsigned long, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThreadPool.cc:23:40 (drogon_postgres_example+0x2d4302)
    #11 drogon::orm::DbClientImpl::DbClientImpl(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, drogon::orm::ClientType, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:62:7 (drogon_postgres_example+0x23a083) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #12 decltype(::new((void*)(0)) drogon::orm::DbClientImpl(std::declval<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(), std::declval<unsigned long&>(), std::declval<drogon::orm::ClientType>(), std::declval<bool&>())) std::construct_at<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:97:39 (drogon_postgres_example+0x239cba) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #13 void std::allocator_traits<std::allocator<drogon::orm::DbClientImpl>>::construct<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>&, drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:518:4 (drogon_postgres_example+0x239cba)
    #14 std::_Sp_counted_ptr_inplace<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x239cba)
    #15 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*&, std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x239cba)
    #16 std::__shared_ptr<drogon::orm::DbClientImpl, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x239cba)
    #17 std::shared_ptr<drogon::orm::DbClientImpl>::shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x239771) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #18 std::shared_ptr<drogon::orm::DbClientImpl> std::allocate_shared<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x239771)
    #19 std::shared_ptr<drogon::orm::DbClientImpl> std::make_shared<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x239771)
    #20 drogon::orm::DbClient::newPgClient(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClient.cc:38:19 (drogon_postgres_example+0x239771)
    #21 main /home/admin/db_race_test/main.cpp:152:23 (drogon_postgres_example+0x108c5c) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)

  Thread T9 'DbLoop' (tid=58399, running) created by main thread at:
    #0 pthread_create <null> (drogon_postgres_example+0x8874b) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State>>, void (*)()) <null> (libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 void __gnu_cxx::new_allocator<trantor::EventLoopThread>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:162:23 (drogon_postgres_example+0x2d4302) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #3 void std::allocator_traits<std::allocator<trantor::EventLoopThread>>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>&, trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:516:8 (drogon_postgres_example+0x2d4302)
    #4 std::_Sp_counted_ptr_inplace<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x2d4302)
    #5 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*&, std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x2d4302)
    #6 std::__shared_ptr<trantor::EventLoopThread, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x2d4302)
    #7 std::shared_ptr<trantor::EventLoopThread>::shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x2d4302)
    #8 std::shared_ptr<trantor::EventLoopThread> std::allocate_shared<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x2d4302)
    #9 std::shared_ptr<trantor::EventLoopThread> std::make_shared<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x2d4302)
    #10 trantor::EventLoopThreadPool::EventLoopThreadPool(unsigned long, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThreadPool.cc:23:40 (drogon_postgres_example+0x2d4302)
    #11 drogon::orm::DbClientImpl::DbClientImpl(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, drogon::orm::ClientType, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:62:7 (drogon_postgres_example+0x23a083) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #12 decltype(::new((void*)(0)) drogon::orm::DbClientImpl(std::declval<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(), std::declval<unsigned long&>(), std::declval<drogon::orm::ClientType>(), std::declval<bool&>())) std::construct_at<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:97:39 (drogon_postgres_example+0x239cba) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #13 void std::allocator_traits<std::allocator<drogon::orm::DbClientImpl>>::construct<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>&, drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:518:4 (drogon_postgres_example+0x239cba)
    #14 std::_Sp_counted_ptr_inplace<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x239cba)
    #15 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*&, std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x239cba)
    #16 std::__shared_ptr<drogon::orm::DbClientImpl, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x239cba)
    #17 std::shared_ptr<drogon::orm::DbClientImpl>::shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x239771) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
    #18 std::shared_ptr<drogon::orm::DbClientImpl> std::allocate_shared<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x239771)
    #19 std::shared_ptr<drogon::orm::DbClientImpl> std::make_shared<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x239771)
    #20 drogon::orm::DbClient::newPgClient(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClient.cc:38:19 (drogon_postgres_example+0x239771)
    #21 main /home/admin/db_race_test/main.cpp:152:23 (drogon_postgres_example+0x108c5c) (BuildId: 10d1f048cd15c692ad326bac8ab5678f9193fef7)
```


```
WARNING: ThreadSanitizer: data race (pid=117563)
  Write of size 8 at 0x721000024018 by thread T23:
    #0 operator delete(void*) <null> (drogon_postgres_example+0x1071b9) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #1 std::runtime_error::~runtime_error() <null> (libstdc++.so.6+0xc46f2) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 void std::__exception_ptr::__dest_thunk<drogon::orm::Failure>(void*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/exception_ptr.h:230:34 (drogon_postgres_example+0x24b901) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #3 std::__exception_ptr::exception_ptr::_M_release() <null> (libstdc++.so.6+0xae024) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #4 std::__future_base::_Result<drogon::orm::Result>::_M_destroy() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/future:262:22 (drogon_postgres_example+0x25b492) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #5 std::__future_base::_Result_base::_Deleter::operator()(std::__future_base::_Result_base*) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/future:212:52 (drogon_postgres_example+0x10f69c) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #6 std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>::~unique_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/unique_ptr.h:361:4 (drogon_postgres_example+0x10f69c)
    #7 std::__future_base::_State_baseV2::~_State_baseV2() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/future:327:40 (drogon_postgres_example+0x10f69c)
    #8 void std::destroy_at<std::__future_base::_State_baseV2>(std::__future_base::_State_baseV2*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:88:15 (drogon_postgres_example+0x10f587) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #9 void std::allocator_traits<std::allocator<std::__future_base::_State_baseV2>>::destroy<std::__future_base::_State_baseV2>(std::allocator<std::__future_base::_State_baseV2>&, std::__future_base::_State_baseV2*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:537:4 (drogon_postgres_example+0x10f587)
    #10 std::_Sp_counted_ptr_inplace<std::__future_base::_State_baseV2, std::allocator<std::__future_base::_State_baseV2>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:528:2 (drogon_postgres_example+0x10f587)
    #11 std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:168:6 (drogon_postgres_example+0x25b971) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #12 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:705:11 (drogon_postgres_example+0x25b971)
    #13 std::__shared_ptr<std::__future_base::_State_baseV2, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1154:31 (drogon_postgres_example+0x25b971)
    #14 std::promise<drogon::orm::Result>::~promise() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/future:1106:7 (drogon_postgres_example+0x25b971)
    #15 std::_Sp_counted_ptr<std::promise<drogon::orm::Result>*, (__gnu_cxx::_Lock_policy)2>::_M_dispose() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:348:9 (drogon_postgres_example+0x25ba5b) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #16 std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:168:6 (drogon_postgres_example+0x25aa0f) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #17 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:705:11 (drogon_postgres_example+0x25aa0f)
    #18 std::__shared_ptr<std::promise<drogon::orm::Result>, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1154:31 (drogon_postgres_example+0x25aa0f)
    #19 drogon::orm::internal::SqlBinder::exec()::$_3::~$_3() /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/SqlBinder.cc:91:13 (drogon_postgres_example+0x25aa0f)
    #20 std::_Function_base::_Base_manager<drogon::orm::internal::SqlBinder::exec()::$_3>::_M_destroy(std::_Any_data&, std::integral_constant<bool, false>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:175:4 (drogon_postgres_example+0x25aa0f)
    #21 std::_Function_base::_Base_manager<drogon::orm::internal::SqlBinder::exec()::$_3>::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:203:8 (drogon_postgres_example+0x25aa0f)
    #22 std::_Function_handler<void (std::__exception_ptr::exception_ptr const&), drogon::orm::internal::SqlBinder::exec()::$_3>::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:282:6 (drogon_postgres_example+0x25aa0f)
    #23 std::_Function_base::~_Function_base() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:244:2 (drogon_postgres_example+0x24d024) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #24 void std::destroy_at<std::function<void (std::__exception_ptr::exception_ptr const&)>>(std::function<void (std::__exception_ptr::exception_ptr const&)>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:88:15 (drogon_postgres_example+0x24d024)
    #25 void std::allocator_traits<std::allocator<std::function<void (std::__exception_ptr::exception_ptr const&)>>>::destroy<std::function<void (std::__exception_ptr::exception_ptr const&)>>(std::allocator<std::function<void (std::__exception_ptr::exception_ptr const&)>>&, std::function<void (std::__exception_ptr::exception_ptr const&)>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:537:4 (drogon_postgres_example+0x24d024)
    #26 std::_Sp_counted_ptr_inplace<std::function<void (std::__exception_ptr::exception_ptr const&)>, std::allocator<std::function<void (std::__exception_ptr::exception_ptr const&)>>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:528:2 (drogon_postgres_example+0x24d024)
    #27 std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:168:6 (drogon_postgres_example+0x266596) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #28 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:705:11 (drogon_postgres_example+0x266596)
    #29 std::__shared_ptr<std::function<void (std::__exception_ptr::exception_ptr const&)>, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1154:31 (drogon_postgres_example+0x266596)
    #30 drogon::orm::TransactionImpl::execSqlInLoopWithTimeout(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/TransactionImpl.cc:391:1 (drogon_postgres_example+0x266596)
    #31 drogon::orm::TransactionImpl::execSqlInLoop(std::basic_string_view<char, std::char_traits<char>>&&, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/TransactionImpl.cc:102:13 (drogon_postgres_example+0x26383c) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #32 drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()::operator()() /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/TransactionImpl.h:87:30 (drogon_postgres_example+0x270690) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #33 void std::__invoke_impl<void, drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()&>(std::__invoke_other, drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x270690)
20250517 23:29:42.291642 UTC 117651 ERROR send query error: connection pointer is NULL
 - PgConnection.cc:242
    #34 std::enable_if<is_invocable_r_v<void, drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()&>, void>::type std::__invoke_r<void, drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()&>(drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2 (drogon_postgres_example+0x270690)
    #35 std::_Function_handler<void (), drogon::orm::TransactionImpl::execSql(char const*, unsigned long, unsigned long, std::vector<char const*, std::allocator<char const*>>&&, std::vector<int, std::allocator<int>>&&, std::vector<int, std::allocator<int>>&&, std::function<void (drogon::orm::Result const&)>&&, std::function<void (std::__exception_ptr::exception_ptr const&)>&&)::'lambda'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9 (drogon_postgres_example+0x270690)
20250517 23:29:42.292095 UTC 117651 ERROR send query error: connection pointer is NULL
 - PgConnection.cc:242
    #36 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9 (drogon_postgres_example+0x2ce3df) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
20250517 23:29:42.292218 UTC 117651 ERROR Transaction roll back error - TransactionImpl.cc:173
    #37 trantor::EventLoop::doRunInLoopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:356:21 (drogon_postgres_example+0x2ce3df)
    #38 trantor::EventLoop::loop() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoop.cc:239:13 (drogon_postgres_example+0x2cdee8) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
20250517 23:29:42.292433 UTC 117652 ERROR std::exception: connection pointer is NULL
 - main.cpp:59
    #39 trantor::EventLoopThread::loopFuncs() /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:65:11 (drogon_postgres_example+0x2d09b2) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #40 trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0::operator()() const /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThread.cc:25:26 (drogon_postgres_example+0x2d0cf3) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #41 void std::__invoke_impl<void, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(std::__invoke_other, trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x2d0cf3)
    #42 std::__invoke_result<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>::type std::__invoke<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>(trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x2d0cf3)
    #43 void std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::_M_invoke<0ul>(std::_Index_tuple<0ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x2d0cf3)
    #44 std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x2d0cf3)
    #45 std::thread::_State_impl<std::thread::_Invoker<std::tuple<trantor::EventLoopThread::EventLoopThread(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&)::$_0>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x2d0cf3)
    #46 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Previous read of size 8 at 0x721000024018 by thread T24:
    #0 __tsan_memcpy <null> (drogon_postgres_example+0x846db) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #1 trantor::detail::FixedBuffer<4000>::append(char const*, unsigned long) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/utils/LogStream.h:50:13 (drogon_postgres_example+0x10a219) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #2 trantor::LogStream::append(char const*, unsigned long) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/utils/LogStream.h:208:26 (drogon_postgres_example+0x10a219)
    #3 trantor::LogStream::operator<<(char const*) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/utils/LogStream.h:184:13 (drogon_postgres_example+0x109610) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #4 runTransaction(std::shared_ptr<drogon::orm::DbClient>, std::function<void (std::shared_ptr<drogon::orm::Transaction>&)> const&, std::chrono::duration<long, std::ratio<1l, 1000l>>) /home/admin/db_race_test/main.cpp:59:45 (drogon_postgres_example+0x10800c) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #5 runTransactions(std::shared_ptr<drogon::orm::DbClient>) /home/admin/db_race_test/main.cpp:104:13 (drogon_postgres_example+0x1086fc) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #6 void std::__invoke_impl<void, void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>(std::__invoke_other, void (*&&)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14 (drogon_postgres_example+0x111048) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #7 std::__invoke_result<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>::type std::__invoke<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>(void (*&&)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:96:14 (drogon_postgres_example+0x111048)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>>::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:259:13 (drogon_postgres_example+0x111048)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>>::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:266:11 (drogon_postgres_example+0x111048)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::shared_ptr<drogon::orm::DbClient>), std::shared_ptr<drogon::orm::DbClient>>>>::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_thread.h:211:13 (drogon_postgres_example+0x111048)
    #11 <null> <null> (libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

  Thread T23 'DbLoop' (tid=117628, running) created by main thread at:
    #0 pthread_create <null> (drogon_postgres_example+0x8872b) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State>>, void (*)()) <null> (libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 void __gnu_cxx::new_allocator<trantor::EventLoopThread>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:162:23 (drogon_postgres_example+0x2d21a2) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #3 void std::allocator_traits<std::allocator<trantor::EventLoopThread>>::construct<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>&, trantor::EventLoopThread*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:516:8 (drogon_postgres_example+0x2d21a2)
    #4 std::_Sp_counted_ptr_inplace<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x2d21a2)
    #5 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(trantor::EventLoopThread*&, std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x2d21a2)
    #6 std::__shared_ptr<trantor::EventLoopThread, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x2d21a2)
    #7 std::shared_ptr<trantor::EventLoopThread>::shared_ptr<std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::_Sp_alloc_shared_tag<std::allocator<trantor::EventLoopThread>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x2d21a2)
    #8 std::shared_ptr<trantor::EventLoopThread> std::allocate_shared<trantor::EventLoopThread, std::allocator<trantor::EventLoopThread>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::allocator<trantor::EventLoopThread> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x2d21a2)
    #9 std::shared_ptr<trantor::EventLoopThread> std::make_shared<trantor::EventLoopThread, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x2d21a2)
    #10 trantor::EventLoopThreadPool::EventLoopThreadPool(unsigned long, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&) /home/admin/db_race_test/build/_deps/drogon-src/trantor/trantor/net/EventLoopThreadPool.cc:23:40 (drogon_postgres_example+0x2d21a2)
    #11 drogon::orm::DbClientImpl::DbClientImpl(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, drogon::orm::ClientType, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClientImpl.cc:62:7 (drogon_postgres_example+0x23a033) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #12 decltype(::new((void*)(0)) drogon::orm::DbClientImpl(std::declval<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&>(), std::declval<unsigned long&>(), std::declval<drogon::orm::ClientType>(), std::declval<bool&>())) std::construct_at<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:97:39 (drogon_postgres_example+0x239c6a) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #13 void std::allocator_traits<std::allocator<drogon::orm::DbClientImpl>>::construct<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>&, drogon::orm::DbClientImpl*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:518:4 (drogon_postgres_example+0x239c6a)
    #14 std::_Sp_counted_ptr_inplace<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:519:4 (drogon_postgres_example+0x239c6a)
    #15 std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(drogon::orm::DbClientImpl*&, std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:651:6 (drogon_postgres_example+0x239c6a)
    #16 std::__shared_ptr<drogon::orm::DbClientImpl, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr_base.h:1342:14 (drogon_postgres_example+0x239c6a)
    #17 std::shared_ptr<drogon::orm::DbClientImpl>::shared_ptr<std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::_Sp_alloc_shared_tag<std::allocator<drogon::orm::DbClientImpl>>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:409:4 (drogon_postgres_example+0x239721) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #18 std::shared_ptr<drogon::orm::DbClientImpl> std::allocate_shared<drogon::orm::DbClientImpl, std::allocator<drogon::orm::DbClientImpl>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::allocator<drogon::orm::DbClientImpl> const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:862:14 (drogon_postgres_example+0x239721)
    #19 std::shared_ptr<drogon::orm::DbClientImpl> std::make_shared<drogon::orm::DbClientImpl, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType, bool&>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long&, drogon::orm::ClientType&&, bool&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/shared_ptr.h:878:14 (drogon_postgres_example+0x239721)
    #20 drogon::orm::DbClient::newPgClient(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const&, unsigned long, bool) /home/admin/db_race_test/build/_deps/drogon-src/orm_lib/src/DbClient.cc:38:19 (drogon_postgres_example+0x239721)
    #21 main /home/admin/db_race_test/main.cpp:151:23 (drogon_postgres_example+0x108c0c) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)

  Thread T24 (tid=117630, running) created by main thread at:
    #0 pthread_create <null> (drogon_postgres_example+0x8872b) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State>>, void (*)()) <null> (libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 main /home/admin/db_race_test/main.cpp:153:17 (drogon_postgres_example+0x108c5d) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab)

SUMMARY: ThreadSanitizer: data race (/home/admin/db_race_test/build/drogon_postgres_example+0x1071b9) (BuildId: aedc489da6b26a23b5521bb0057d86fb14d3b5ab) in operator delete(void*)
```

